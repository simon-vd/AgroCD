---
sidebarDepth: 1
---

# üî• Kubernetes quickstart

This Kubernetes quickstart guide will help you set-up your first Kubernetes cluster and the tools to communicate with it. We will use [kind](https://kind.sigs.k8s.io/) to create a local testing cluster and set-up [kubectl](https://kubernetes.io/docs/reference/kubectl/) to communicate with that cluster. The chapter [Kubernetes clusters](./03.k8s-clusters.md) will explain clusters in more detail.

## Creating a cluster

Before we can work with a Kubernetes cluster, we have to create one. For our initial case we will create a local test cluster using kind.

### Installing kind

[kind](https://kind.sigs.k8s.io/docs/user/quick-start/) (Kubernetes in Docker) is a tool to run local Kubernetes clusters using Docker containers. It is a great tool for developers as it is fast and lightweight compared to other solutions. It is an alternative to [minikube](https://minikube.sigs.k8s.io/docs/start/) which uses VMs under the hood so will be slower and more resource intensitive.

You can find the install instructions at the [official documentation of kind](https://kind.sigs.k8s.io/docs/user/quick-start/#installing-from-release-binaries).

### Setting up a cluster

To quickly create a basic cluster, you can use the command `kind create cluster`. This will create a Kubernetes cluster consisting of 1 node. See [Kubernetes clusters](./03.k8s-clusters.md) for more information.

To check if your cluster has been created succesfully, you can use the command `kind get clusters`.

```bash
$ kind get clusters
kind
 ```

## Working with Kubernetes

Now that we have a cluster, we can start working with it! For this we will learn how to use the CLI tool `kubectl` and take a look on how resources/configurations/... are defined in Kubernetes.

**Isn't there a GUI?** Yes, there is... but do not use it. The Kubernetes Dashboard is not well maintained (lacks many features) and often is a nice way for attackers to hack into your cluster when exposed on the internet. We also cannot automate things with it like we would do in a CI/CD deployment. So we will not use it.

### `kubectl`

Before we get to look at what is inside Kubernetes we have to learn how to access it all.
We have the command line utility `kubectl` which is the main way to interact with Kubernetes. It is a CLI tool that can be used to deploy, manage, and debug applications in a Kubernetes cluster. It is the main tool for interacting with Kubernetes and is used to deploy and manage applications.

How it is pronounced is [a mystery](https://www.youtube.com/watch?v=2wgAIvXpJqU)... Let's just stick with `cube cee-tee-el` or `cube control` for now...

![kube cuddle](kubecuddle.png)
_(my favorite ‚Äúmis‚Äùpronounciation is kube cuddle)_

kubectl is a tool to create/read/update/delete (_CRUD is everywhere..._) everything in Kubernetes. But it does more that that!

```bash
kubectl create -f file.yaml # create a resource from a file definition

kubectl apply -f file.yaml # create or updates (if exists!) a resource from a file definition

kubectl delete <resource type> <name> # delete a resource

kubectl get <resource type> # get a list of resources of a certain type
```

### Installing `kubectl`

Before we can start we need to install `kubectl` which is the command line tool to interact with Kubernetes. You can find the installation instructions [on the official website](https://kubernetes.io/docs/tasks/tools/install-kubectl/).

You can compare it to the `systemctl` to `systemd` but for Kubernetes. Some people also see it as a kind of SSH alternative as many developers will use it on their local machine to interact with a remote cluster.

In our class we will use `kubectl` to interact with our local cluster on our Linux VM (as the Linux bash shell is just way beter![^bashbetter]). You can find the install instructions on the [official site of Kubernetes](https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/#install-using-native-package-management).

When you do `kubectl version` you should see the version of your client.

:::tip
You can have a [cheat sheet](https://kubernetes.io/docs/reference/kubectl/cheatsheet/) on the official website.
:::

Let's try some out:

```bash
kubectl get pods -A # get a list of all pods
kubectl get nodes # get a list of all nodes
kubectl get services -A # get a list of all services
```

With these commands we can ask all pods, nodes and services currently in our Kubernetes cluster. We will create these resources ourselves to run our own applications. But Kubernetes uses these resources itself to run as well.

It can also understand you Kubernetes better!

```bash
kubectl explain <resource type> # get a list of all resources of a certain type
kubectl describe <resource type> <name> # explains everything about a specific resource in your cluster
```

Let's try looking at some explain commands:

```bash
kubectl explain pod
kubectl explain node
```

A quick browse in the documentation also gets you into the **helper commands**:

```bash
kubectl run <name> --image=<image> # create a pod with a container running an image
```

This creates a pod with an image. **However it leaves no replicatable configuration, it should only be used for testing**.
What we want is a collection of configurations of what is running in the cluster (preferably defined as-Code, in a Git repo). So we know what exactly is running and that we can re-deploy in case of failure. Tools like [AgroCD](https://argo-cd.readthedocs.io/en/stable/) can even automate this proccess when linked to a Git repo.

::: warning
You might get the following warning while using kubectl.
```bash
$ kubectl get pods
error: no configuration has been provided, try setting KUBERNETES_MASTER environment variable
```
This means something went wrong creating your cluster. Try recreating it.
:::

### The `kubeconfig`

The `kubeconfig` is a file that contains all the information to connect to a Kubernetes cluster. It is a YAML file that contains all the information to connect to one or multiple cluster. It is often shared between developers to get cluster access but should be considered as confidential as a password. It is also the file that holds the information that kubectl uses to connect to your cluster.

You can find it at `~/.kube/config` on macOS/Linux and `C:\Users\%USERNAME%\.kube\config` on Windows.

